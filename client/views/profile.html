
  <div class="main" ng-controller="ProfileController">
    <div class="header">
      <nav>
        <div class="nav-wrapper">
          <a href="/" class="brand-logo">CFH</a>
          <a data-target="slide-out" class="sidenav-trigger" ng-click="openSideNav()"><i class="material-icons">menu</i></a>
          <div id="nav-mobile" class="right hide-on-med-and-down">
            <ul>
              <li><a href="#!/app">Join Game</a></li>
              <li><a ng-click="signout()">Sign Out</a></li>
              <li><a class="waves-effect waves-light btn donate-btn" ng-click="donate()">Donate Now</a></li>
              <li class="nav-img-li"><img class="nav-user-img" src="{{global.user.profileImage}}" /></li>
            </ul>
          </div>
        </div>
      </nav>
      <ul id="slide-out" class="sidenav">
        <li>
          <div class="sidenav-close-div">
              <a class="sidenav-close" ng-click="sideNavLinkClick()"><i class="material-icons">close</i></a>
          </div>
        </li>
        <li>
          <div class="user-view">
            <div class="nav-img-div">
              <img class="nav-user-img" src="{{global.user.profileImage}}" />
            </div>
            <p>{{global.user.username}}</p>
          </div>
        </li>
        <li><a ng-click="sideNavLinkClick('/app')">Join Game</a></li>
        <li><a ng-click="signout()">Sign Out</a></li>
        <li class="donate-btn-li"><a class="waves-effect waves-light btn donate-btn" ng-click="donate()">Donate Now</a></li>
      </ul>
    </div>
    <div class="profile-content">
      <div class="user-hero">
        <div class="user-hero-img">
          <img src="{{global.user.profileImage}}" alt="user">
        </div>
        <p class="username">{{global.user.username}}</p>
        <div class="extra-details">
          <div>
            <p>{{gamesPlayedCount}}</p>
            <p>
              <span class="hide-on-small-only">GAME<span ng-show="checkLength(gamesPlayedCount)">S</span></span>
              <span class="hide-on-med-and-up"><i class="fas fa-gamepad"></i></span>
            </p>
          </div>
          <div>
            <p>{{donationCount}}</p>
            <p>
              <span class="hide-on-small-only">DONATION<span ng-show="checkLength(donationCount)">S</span></span>
              <span class="hide-on-med-and-up"><i class="fas fa-crown"></i></span>
            </p>
          </div>
        </div>
      </div>
      <div class="main-content">
          <div class="row nav-tab">
              <div class="col s12 nav-tab-col">
                <ul class="tabs">
                  <li class="tab col s4">
                    <a ng-class="{ active: tabIsActive(1) }" ng-click="setTab(1)">
                      <span class="show-tab">HISTORY</span>
                      <span><i class="fas fa-edit"></i></span>
                    </a>
                  </li>
                  <li class="tab col s4">
                    <a ng-class="{ active: tabIsActive(2) }" ng-click="setTab(2)">
                      <span class="show-tab">LEADERBOARD</span>
                      <span><i class="fas fa-crown"></i><span></span>
                    </a>
                  </li>
                  <li class="tab col s4">
                    <a ng-class="{ active: tabIsActive(3) }" ng-click="setTab(3)">
                      <span class="show-tab">DONATIONS</span>
                      <span><i class="fas fa-hand-holding-usd"></i></span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="tab-content container">
                <div ng-show="tabIsActive(1)" class="col s12">
                  <h5 class="text-center games-won">Games Won: <span>{{gamesWon}}</span></h5>
                  <br>
                      <table class="striped">
                          <thead>
                            <tr>
                              <th>Date</th>
                              <th>Number of Players</th>
                              <th>Winner</th>
                            </tr>
                          </thead>
                  
                          <tbody>
                            <tr ng-repeat="game in gamesPlayed">
                              <td>{{game.datePlayed}}</td>
                              <td>{{game.players.length}}</td>
                              <td>{{game.winner}}</td>
                            </tr>
                          </tbody>
                        </table>
                </div>
                <div ng-show="tabIsActive(2)" class="col s12">
                  <table class="striped centered">
                    <thead>
                      <tr>
                          <th>#</th>
                          <th>User</th>
                          <th>Games Won</th>
                      </tr>
                    </thead>
            
                    <tbody>
                      <tr ng-repeat="user in leaderBoard">
                        <td>{{$index + 1}}</td>
                        <td>{{user.username}}</td>
                        <td>{{user.gamesWon}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div ng-show="tabIsActive(3)" class="col s12">
                  <table class="striped centered">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Date</th>
                      </tr>
                    </thead>
            
                    <tbody>
                        <tr ng-repeat="donation in donations">
                          <td>{{$index + 1}}</td>
                          <td>{{donation.date}}</td>
                        </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
      </div>
    </div>
    <div class="footer">
      <p class="text-center">This game is based on the <span class="footer-text">Card Against Humanity</span> card game, which is CC licensed (BY-NC-SA). Cards For Humanity is not affiliated with Cards Against Humanity.</p>
    </div>
  </div>